# Grafana Notification Policies for Alerting (Phase 3.3)
# Routes alerts to contact points based on labels
apiVersion: 1

policies:
  - orgId: 1
    receiver: default-alerting
    group_by:
      - alertname
      - severity
    group_wait: 30s
    group_interval: 5m
    repeat_interval: 4h
    routes:
      # Critical alerts (Redis circuit breaker) - shorter repeat
      - receiver: default-alerting
        matchers:
          - severity = critical
        repeat_interval: 1h
      # Warning alerts - standard repeat
      - receiver: default-alerting
        matchers:
          - severity = warning
        repeat_interval: 4h
